{% extends "base.html" %}
{% block title %}{{album.title}}{% endblock title %}

{% block content %}
<div class="album-detail">
  <div class="album-meta">
    <img src="{{album.images.0.url}}" alt="{{album.name}}">
    <h1>{{album.name}}</h1>
    <h4>{{album.artists.0.name}}</h4>
  </div>

  <div class="track-list">
    {% for track in album.tracks.items %}
    <div class="track-row">

      <p class="track-title">{{track.track_number}}. {{track.name}}</p>
      {% comment %} TODO shows in msec fix this {% endcomment %}
      <p class="track-duration">{{track.duration_ms}}</p>
    </div>

    {% endfor %}
  </div>
</div>

<div class="reviews-section">

  <div class="reviews-header">
    <h1>Thoughts</h1>

    <a href="{% url 'createReview' album.id %}" class="primary-btn icon-btn">
      <i class="material-icons">add</i>
    </a>
  </div>

  <div class="reviews-grid">
    {% for review in reviews %}
    <div class="review-card">

      <div class="review-top">
        <p class="review-user">{{ review.user }}</p>
        <span class="review-rating">{{ review.rating }}/5</span>
      </div>

      <p class="review-content">{{ review.content }}</p>

      <div class="review-tracks">
        <p><strong>Favourite:</strong> {{ review.fav }}</p>
        <p><strong>Honourable:</strong> {{ review.mention }}</p>
        <p><strong>Least:</strong> {{ review.least }}</p>
      </div>

    </div>
    {% endfor %}
  </div>

</div>

{% endblock content %}
